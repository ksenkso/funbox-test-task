(self.webpackChunkfunbox_test_task=self.webpackChunkfunbox_test_task||[]).push([[973],{973:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var r,n=a(7),o=a.n(n),l=o().arrayOf(o().number),c=(o().shape({id:o().number,name:o().string,coords:l}),a(683)),i=a(791),s=["title","titleId"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},u.apply(this,arguments)}function m(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function f(e,t){var a=e.title,n=e.titleId,o=m(e,s);return i.createElement("svg",u({width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},o),a?i.createElement("title",{id:n},a):null,r||(r=i.createElement("g",null,i.createElement("circle",{cx:12,cy:12,r:12}),i.createElement("path",{d:"M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"}))))}var p=i.forwardRef(f),d=(a.p,a(184));function g(e){var t=e.placemark,a=e.removePlacemark,r=e.isStart,n=e.isEnd,o=r?"PlacemarkItem__Point_start":n?"PlacemarkItem__Point_end":"",l=r?"\u041d\u0430\u0447\u0430\u043b\u043e \u043f\u0443\u0442\u0438":n?"\u041a\u043e\u043d\u0435\u0446 \u043f\u0443\u0442\u0438":"";return(0,d.jsxs)("li",{className:"PlacemarksList__Item PlacemarkItem",draggable:!0,"data-id":t.id,children:[(0,d.jsx)("span",{className:"PlacemarkItem__Point ".concat(o),"aria-label":l}),(0,d.jsx)("span",{className:"PlacemarkItem__Name",children:t.name}),(0,d.jsx)("button",{className:"PlacemarkItem__Button",type:"button",onClick:function(){return a(t.id)},"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0447\u043a\u0443 ".concat(t.name),children:(0,d.jsx)(p,{})})]})}var y=a(885);function v(e){var t=e.placemarks,a=e.removePlacemark,r=e.movePlacemark,n=function(e){var t=e.itemSelector,a=e.handlers,r=(0,i.createRef)(),n=(0,i.useState)(!1),o=(0,y.Z)(n,2),l=o[0],c=o[1],s=(0,i.useState)(null),u=(0,y.Z)(s,2),m=u[0],f=u[1],p=function(e){return e.matches(t)};return{draggableData:m,setDraggableData:f,isDragging:l,listRef:r,handlers:{onDragStart:function(e){c(!0),a.onDragStart(e)},onDragEnd:function(e){p(e.target)&&(c(!1),e.target.style.opacity=1)},onDrop:function(e){p(e.target)&&(a.onDrop(e),f(null),e.target.style.opacity=1)},onDragLeave:function(e){p(e.target)&&(e.target.style.opacity=1)},onDragOver:function(e){e.preventDefault(),p(e.target)&&(e.target.style.opacity=.5)}}}}({itemSelector:".PlacemarkItem",handlers:{onDragStart:function(e){s(function(e,t){return e.find((function(e){return e.id===+t}))}(t,e.target.dataset.id))},onDrop:function(e){var t,a=(t=e.target,Array.prototype.indexOf.call(t.parentElement.children,t));r(l.id,a)}}}),o=n.listRef,l=n.draggableData,s=n.setDraggableData,u=n.isDragging,m=n.handlers;return(0,d.jsx)("ul",(0,c.Z)((0,c.Z)({ref:o,className:"PlacemarksList ".concat(u?"PlacemarksList_dragging":"")},m),{},{children:t.map((function(e,r){return(0,d.jsx)(g,{placemark:e,removePlacemark:a,isStart:0===r,isEnd:r===t.length-1},e.id)}))}))}var h=a(907);var b=a(181);function k(e){return function(e){if(Array.isArray(e))return(0,h.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,b.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(Boolean).join(" ")},j=["classNames"],O=function(e){var t=e.classNames,a=void 0===t?[]:t,r=P(e,j),n=x(["Input"].concat(k(a)));return(0,d.jsx)("input",(0,c.Z)({className:n},r))},_=["children","classNames"],S=function(e){var t=e.children,a=e.classNames,r=void 0===a?[]:a,n=P(e,_),o=x(["Button"].concat(k(r)));return(0,d.jsx)("button",(0,c.Z)((0,c.Z)({className:o},n),{},{children:t}))},w=function(e){var t=e.addPlacemark,a="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,r=(0,i.useState)(""),n=(0,y.Z)(r,2),o=n[0],l=n[1],c=function(){o.trim()&&(t(o),l(""))};return(0,d.jsxs)("div",{className:"InputBox",children:[(0,d.jsx)(O,{id:"placemark-name",name:"placemark-name",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u043c\u0435\u0442\u043a\u0438",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u043c\u0435\u0442\u043a\u0438",classNames:["PlacemarkName"],value:o,onChange:function(e){return l(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&c()},autoFocus:!0,autoComplete:"disabled"}),a&&(0,d.jsx)(S,{classNames:["AddButton"],"aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0447\u043a\u0443",onClick:c,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})};function D(){return(0,d.jsx)("p",{className:"PlacemarksStub","data-testid":"list-stub",children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0412\u0430\u0448\u0438\u0445 \u043e\u0442\u043c\u0435\u0442\u043e\u043a"})}var I=function(e){var t=e.placemarks,a=e.addPlacemark,r=e.removePlacemark,n=e.movePlacemark;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(w,{addPlacemark:a}),!t.length&&(0,d.jsx)(D,{}),(0,d.jsx)(v,{placemarks:t,removePlacemark:r,movePlacemark:n})]})}},888:function(e,t,a){"use strict";var r=a(47);function n(){}function o(){}o.resetWarningCache=n,e.exports=function(){function e(e,t,a,n,o,l){if(l!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:n};return a.PropTypes=a,a}},7:function(e,t,a){e.exports=a(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=973.acf36bdb.chunk.js.map